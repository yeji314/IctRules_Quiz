/* 픽셀 장식 요소 - 최종 우선순위 규칙 (다른 CSS 덮어쓰기 방지) */

/* ===== 중요: 이 파일은 모든 CSS 파일보다 나중에 로드되어야 함 ===== */

/* ✅ 반응형 스케일 변수 - 1920px = 0.5배 고정 */
:root {
  /* 기본: 1920에서 0.5, 그보다 작으면 자연 축소 */
  --deco-scale: clamp(0.3, calc(100vw / 3840), 0.5);
}

/* 2560px 이상에서는 2배 고정 (ultrawide) */
@media (min-width: 2560px) {
  :root {
    --deco-scale: 2;
  }
}

/* 1921px ~ 2559px 구간: 0.5 ~ 2 사이 선형 */
@media (min-width: 1921px) and (max-width: 2559px) {
  :root {
    --deco-scale: clamp(0.5, calc((100vw - 1920px) / (2560 - 1920) * 1.5 + 0.5), 2);
  }
}

/* 풍선만 숨기기 */
.balloon {
  display: none !important;
}

/* 구름 활성화 - 3배 크기로 슬라이드 */
.cloud-item {
  display: block !important;
  font-size: 84px !important;
  position: absolute !important;
  animation: slideCloud 40s linear infinite !important;
  opacity: 0.9 !important;
  z-index: 10 !important;
}

/* ===== 지형 위 모든 장식 요소: 초록 잔디 위에 정확히 올라가도록 최종 고정 ===== */
/* decorations.css와 동일한 규칙을 최종 우선순위로 재선언 */

/* 각 요소별 실제 픽셀아트 높이 변수 */
.tree        { --deco-height: 55px; }  /* y max 50 + 5 */
.bush1       { --deco-height: 15px; }  /* y max 10 + 5 */
.bush2       { --deco-height: 15px; }  /* y max 10 + 5 */
.clover      { --deco-height: 30px; }  /* y max 25 + 5 */
.small-plant { --deco-height: 30px; }  /* y max 25 + 5 */
.sunflower   { --deco-height: 65px; }  /* y max 60 + 5 */
.mailbox     { --deco-height: 55px; }  /* y max 50 + 5 */
.cursor      { --deco-height: 25px; }  /* y max 20 + 5 */
.character   { --deco-height: 55px; }  /* y max 50 + 5 */
.tnt         { --deco-height: 40px; }  /* y max 35 + 5 */

.tree,
.bush,
.bush1,
.bush2,
.sunflower,
.clover,
.small-plant,
.tnt,
.mailbox,
.cursor,
.character {
  --deco-lift: 0px; /* 기본은 추가로 안 올림 */
  position: fixed !important;
  bottom: 120px !important; /* 초록 잔디 최상단(120px) */
  transform-origin: bottom center !important;
  /* translateY로 box-shadow 오프셋 보정 + lift만큼 추가 올림 + 반응형 스케일 */
  transform: translateY(calc(-1 * (var(--deco-height) - 5px + var(--deco-lift)))) scale(var(--deco-scale)) !important;
  z-index: 20 !important;

  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* 더 올려야 하는 3개만 lift 지정 */
.tree      { --deco-lift: 16px; }
.mailbox   { --deco-lift: 16px; }
.character { --deco-lift: 16px; }

/* 캐릭터만 1.333배 추가 확대 (lift 포함된 동일 계산식) */
.character {
  transform: translateY(calc(-1 * (var(--deco-height) - 5px + var(--deco-lift)))) scale(calc(var(--deco-scale) * 1.333)) !important;
}

/* SOL 캐릭터도 동일하게 초록 잔디 위에 정렬 */
/* ✅ index.html에서만 사용 (quiz.html은 character-section 컨테이너 사용) */
.sol-character {
  position: fixed !important;
  bottom: 120px !important; /* 초록 잔디 최상단(120px) 위에 발이 닿음 */
  /* width는 sol-gif-base에서 정의 (320px) */
  z-index: 20 !important;
  transform-origin: bottom left !important;

  /* 애니메이션은 login.css에 정의된 solWalk를 그대로 사용 (좌우반전 포함) */
  animation: solWalk 149s linear infinite !important;

  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  pointer-events: none !important;
}

/* (참고) 예전 실험용 solWalkPosition / solWalkDirection 키프레임은 더 이상 사용하지 않음 */
