# ICT Rules Quiz - í”„ë¡œì íŠ¸ í†µí•© ê°€ì´ë“œ

> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-19
> **ë²„ì „**: 1.0.0
> **í”„ë¡œì íŠ¸**: ì‹ í•œì€í–‰ ICT ê·œì • í€´ì¦ˆ ì‹œìŠ¤í…œ

---

## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ê¸°ìˆ  ìŠ¤íƒ](#3-ê¸°ìˆ -ìŠ¤íƒ)
4. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#4-í”„ë¡œì íŠ¸-êµ¬ì¡°)
5. [Swing ì¸ì¦ ì‹œìŠ¤í…œ](#5-swing-ì¸ì¦-ì‹œìŠ¤í…œ)
6. [ì¸ì¦ íë¦„ë„](#6-ì¸ì¦-íë¦„ë„)
7. [ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°](#7-ë°ì´í„°ë² ì´ìŠ¤-êµ¬ì¡°)
8. [API ì—”ë“œí¬ì¸íŠ¸](#8-api-ì—”ë“œí¬ì¸íŠ¸)
9. [í€´ì¦ˆ ì§„í–‰ íë¦„](#9-í€´ì¦ˆ-ì§„í–‰-íë¦„)
10. [í™˜ê²½ ì„¤ì •](#10-í™˜ê²½-ì„¤ì •)
11. [ë°°í¬ ê°€ì´ë“œ](#11-ë°°í¬-ê°€ì´ë“œ)
12. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#12-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
ì‹ í•œì€í–‰ ì„ì§ì›ì„ ëŒ€ìƒìœ¼ë¡œ ICT ê·œì • ë° ë³´ì•ˆ ì§€ì¹¨ì„ í•™ìŠµí•  ìˆ˜ ìˆëŠ” í€´ì¦ˆ í”Œë«í¼ì…ë‹ˆë‹¤.

### 1.2 ì£¼ìš” ê¸°ëŠ¥
- âœ… **Swing SSO ì¸ì¦**: ì‹ í•œì€í–‰ í†µí•© ì¸ì¦ ì‹œìŠ¤í…œ
- âœ… **ì›”ë³„ í€´ì¦ˆ**: ë§¤ì›” ìƒˆë¡œìš´ ICT ê·œì • í€´ì¦ˆ ì œê³µ
- âœ… **ë‹¤ì–‘í•œ ë¬¸ì œ ìœ í˜•**: OX, ê°ê´€ì‹, ë¹ˆì¹¸ ì±„ìš°ê¸°, ë“œë˜ê·¸ì•¤ë“œë¡­, íƒ€ì´í•‘ ë“±
- âœ… **ì‹¤ì‹œê°„ í”¼ë“œë°±**: ì •ë‹µ/ì˜¤ë‹µ ì¦‰ì‹œ í™•ì¸ ë° ìºë¦­í„° ë°˜ì‘
- âœ… **Lucky Draw**: í€´ì¦ˆ ì™„ë£Œ ì‹œ ê²½í’ˆ ì¶”ì²¨ ê¸°íšŒ
- âœ… **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: ì´ë²¤íŠ¸/ë¬¸ì œ ê´€ë¦¬, í†µê³„ ì¡°íšŒ, ë‹¹ì²¨ì ê´€ë¦¬

### 1.3 ì‚¬ìš©ì ì—­í• 
- **ì¼ë°˜ ì‚¬ìš©ì**: í€´ì¦ˆ ì°¸ì—¬, ì§„í–‰ ìƒí™© í™•ì¸
- **ê´€ë¦¬ì**: ì´ë²¤íŠ¸/ë¬¸ì œ ê´€ë¦¬, í†µê³„ ì¡°íšŒ, ë‹¹ì²¨ì ì¶”ì²¨

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client (Browser)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Login    â”‚  â”‚ Quiz List  â”‚  â”‚    Quiz    â”‚  â”‚   Admin    â”‚â”‚
â”‚  â”‚   Page     â”‚  â”‚    Page    â”‚  â”‚    Page    â”‚  â”‚ Dashboard  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚         â”‚                â”‚                â”‚              â”‚       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                              â”‚                                   â”‚
â”‚                    Static Files (HTML/CSS/JS)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ HTTP/HTTPS
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Express Server (Node.js)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Routes                             â”‚  â”‚
â”‚  â”‚  /api/auth  â”‚  /api/quiz  â”‚  /api/admin  â”‚  /api/health  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚              â”‚              â”‚              â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    Auth      â”‚ â”‚    Quiz    â”‚ â”‚   Admin   â”‚ â”‚  Health   â”‚   â”‚
â”‚  â”‚ Controller   â”‚ â”‚ Controller â”‚ â”‚Controller â”‚ â”‚ Controllerâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚              â”‚              â”‚              â”‚          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Middleware Layer                           â”‚ â”‚
â”‚  â”‚  - JWT Auth Middleware                                      â”‚ â”‚
â”‚  â”‚  - Error Handler                                            â”‚ â”‚
â”‚  â”‚  - CORS Handler                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Swing Auth Module                         â”‚ â”‚
â”‚  â”‚  swing-auth/                                                 â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ index.js (doSwingAuthenticate)                        â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ helpers.js (apiCall, sha256)                          â”‚ â”‚
â”‚  â”‚   â””â”€â”€ env.js (í™˜ê²½ ì„¤ì •)                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚                         â”‚
        â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLite DB     â”‚        â”‚  Swing Server  â”‚      â”‚  File System     â”‚
â”‚ (quiz.db)     â”‚        â”‚  (SSO Auth)    â”‚      â”‚  (Images/Logs)   â”‚
â”‚               â”‚        â”‚                â”‚      â”‚                  â”‚
â”‚ - Users       â”‚        â”‚ - prod env     â”‚      â”‚ - Quiz Images    â”‚
â”‚ - QuizEvents  â”‚        â”‚ - dev env      â”‚      â”‚ - Character GIFs â”‚
â”‚ - Questions   â”‚        â”‚ - mock env     â”‚      â”‚                  â”‚
â”‚ - QuizSessionsâ”‚        â”‚                â”‚      â”‚                  â”‚
â”‚ - QuizAnswers â”‚        â”‚                â”‚      â”‚                  â”‚
â”‚ - LuckyDraw   â”‚        â”‚                â”‚      â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ê¸°ìˆ  ìŠ¤íƒ

### 3.1 Backend
- **Runtime**: Node.js 18+
- **Framework**: Express.js 4.18
- **Database**: SQLite 3 (Sequelize ORM)
- **Authentication**: JWT + Swing SSO
- **HTTP Client**: Axios

### 3.2 Frontend
- **Language**: Vanilla JavaScript (ES6+ Modules)
- **Styling**: Custom CSS (Pixel Art Theme)
- **Font**: Press Start 2P, Galmuri

### 3.3 DevOps
- **Container**: Docker
- **Process Manager**: PM2 (optional)
- **Environment**: dotenv

---

## 4. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
IctRulesQuiz/
â”œâ”€â”€ ğŸ“ client/                      # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ ğŸ“ css/                     # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â”‚   â”œâ”€â”€ global.css              # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ login.css               # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ login-decorations.css   # ë¡œê·¸ì¸ ì¥ì‹
â”‚   â”‚   â”œâ”€â”€ decorations.css         # ê³µí†µ ì¥ì‹ ìš”ì†Œ
â”‚   â”‚   â”œâ”€â”€ quiz-list.css           # í€´ì¦ˆ ëª©ë¡ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ quiz.css                # í€´ì¦ˆ ì§„í–‰ í˜ì´ì§€
â”‚   â”œâ”€â”€ ğŸ“ js/                      # ìë°”ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ modules/             # ê³µí†µ ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js              # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js             # ì¸ì¦ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ utils.js            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â””â”€â”€ ğŸ“ pages/               # í˜ì´ì§€ë³„ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚       â”œâ”€â”€ login.js            # ë¡œê·¸ì¸
â”‚   â”‚       â”œâ”€â”€ quiz-list.js        # í€´ì¦ˆ ëª©ë¡
â”‚   â”‚       â”œâ”€â”€ quiz.js             # í€´ì¦ˆ ì§„í–‰
â”‚   â”‚       â”œâ”€â”€ result.js           # ê²°ê³¼ í˜ì´ì§€
â”‚   â”‚       â””â”€â”€ admin-dashboard.js  # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ ğŸ“ pages/                   # HTML í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ index.html              # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ quiz-list.html          # í€´ì¦ˆ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ quiz.html               # í€´ì¦ˆ ì§„í–‰
â”‚   â”‚   â”œâ”€â”€ result.html             # ê²°ê³¼ í™•ì¸
â”‚   â”‚   â””â”€â”€ ğŸ“ admin/
â”‚   â”‚       â””â”€â”€ dashboard.html      # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â””â”€â”€ ğŸ“ images/                  # ì´ë¯¸ì§€/GIF
â”‚       â”œâ”€â”€ character.png           # ìºë¦­í„° ì´ë¯¸ì§€
â”‚       â””â”€â”€ SOLwalking2.gif         # ê±·ëŠ” ìºë¦­í„° GIF
â”‚
â”œâ”€â”€ ğŸ“ server/                      # ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ ğŸ“ config/                  # ì„¤ì • íŒŒì¼
â”‚   â”‚   â””â”€â”€ database.js             # DB ì„¤ì •
â”‚   â”œâ”€â”€ ğŸ“ controllers/             # ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ authController.js       # ì¸ì¦ (ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ)
â”‚   â”‚   â”œâ”€â”€ quizController.js       # í€´ì¦ˆ (ì‹œì‘/ë‹µë³€/ì™„ë£Œ)
â”‚   â”‚   â””â”€â”€ adminController.js      # ê´€ë¦¬ì (ì´ë²¤íŠ¸/í†µê³„)
â”‚   â”œâ”€â”€ ğŸ“ middleware/              # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â””â”€â”€ auth.js                 # JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ ğŸ“ models/                  # Sequelize ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ index.js                # ëª¨ë¸ í†µí•©
â”‚   â”‚   â”œâ”€â”€ User.js                 # ì‚¬ìš©ì
â”‚   â”‚   â”œâ”€â”€ QuizEvent.js            # í€´ì¦ˆ ì´ë²¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ Question.js             # ë¬¸ì œ
â”‚   â”‚   â”œâ”€â”€ QuizSession.js          # í€´ì¦ˆ ì„¸ì…˜
â”‚   â”‚   â”œâ”€â”€ QuizAnswer.js           # ë‹µë³€ ê¸°ë¡
â”‚   â”‚   â”œâ”€â”€ LuckyDraw.js            # ê²½í’ˆ ì¶”ì²¨
â”‚   â”‚   â””â”€â”€ SSOSettings.js          # SSO ì„¤ì •
â”‚   â”œâ”€â”€ ğŸ“ routes/                  # ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth.js                 # ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ quiz.js                 # í€´ì¦ˆ ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ admin.js                # ê´€ë¦¬ì ë¼ìš°íŠ¸
â”‚   â”‚   â””â”€â”€ health.js               # í—¬ìŠ¤ì²´í¬
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ jwt.js                  # JWT í† í° ìƒì„±/ê²€ì¦
â”‚   â”œâ”€â”€ ğŸ“ migrations/              # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”‚   â””â”€â”€ 20250102000000-init-database.js
â”‚   â”œâ”€â”€ ğŸ“ seeders/                 # ì‹œë“œ ë°ì´í„°
â”‚   â”‚   â””â”€â”€ 20250102000001-admin-user.js
â”‚   â””â”€â”€ server.js                   # ì„œë²„ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ ğŸ“ swing-auth/                  # Swing ì¸ì¦ ëª¨ë“ˆ (ë…ë¦½)
â”‚   â”œâ”€â”€ index.js                    # ë©”ì¸ ì¸ì¦ í•¨ìˆ˜
â”‚   â”œâ”€â”€ helpers.js                  # ìœ í‹¸ë¦¬í‹° (API í˜¸ì¶œ, SHA256)
â”‚   â”œâ”€â”€ env.js                      # í™˜ê²½ë³„ ì„¤ì •
â”‚   â”œâ”€â”€ example.js                  # ì‚¬ìš© ì˜ˆì œ
â”‚   â”œâ”€â”€ package.json                # íŒ¨í‚¤ì§€ ì„¤ì •
â”‚   â””â”€â”€ README.md                   # ëª¨ë“ˆ ê°€ì´ë“œ
â”‚
â”œâ”€â”€ ğŸ“ database/                    # SQLite DB íŒŒì¼
â”‚   â””â”€â”€ quiz.db
â”‚
â”œâ”€â”€ ğŸ“ docs/                        # ë¬¸ì„œ
â”‚   â”œâ”€â”€ ARCHITECTURE.md             # ì•„í‚¤í…ì²˜
â”‚   â”œâ”€â”€ AUTH_FLOW.md                # ì¸ì¦ íë¦„
â”‚   â””â”€â”€ ADMIN_GUIDE.md              # ê´€ë¦¬ì ê°€ì´ë“œ
â”‚
â”œâ”€â”€ .env                            # í™˜ê²½ ë³€ìˆ˜ (í†µí•©)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ PROJECT_GUIDE.md                # ğŸ“Œ ì´ ë¬¸ì„œ
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ README
```

---

## 5. Swing ì¸ì¦ ì‹œìŠ¤í…œ

### 5.1 ê°œìš”
ì‹ í•œì€í–‰ Swing í†µí•© ì¸ì¦ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### 5.2 ì¸ì¦ ë°©ì‹

#### 5.2.1 SSO í† í° ì¸ì¦ (ê¶Œì¥)
```javascript
// Swing í¬í„¸ì—ì„œ ë°œê¸‰ë°›ì€ SSO í† í°ìœ¼ë¡œ ì¸ì¦
POST /api/auth/swing/token
{
  "sso_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### 5.2.2 ID/Password ì¸ì¦
```javascript
// ì‚¬ë²ˆê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì§ì ‘ ì¸ì¦
POST /api/auth/login
{
  "employee_id": "12345678",
  "password": "mypassword123"
}
```

### 5.3 Swing Auth ëª¨ë“ˆ êµ¬ì¡°

```javascript
// swing-auth/index.js - ë©”ì¸ ì¸ì¦ í•¨ìˆ˜
async function doSwingAuthenticate(options) {
  const { type, ssoToken, employeeNo, password } = options;

  if (type === 'sso') {
    return await swingSsoAuth(ssoToken);
  } else if (type === 'idpw') {
    return await swingIdPasswordAuth(employeeNo, password);
  }
}

// swing-auth/helpers.js - API í˜¸ì¶œ
async function apiCall(url, payload) {
  const response = await axios.post(url, payload, {
    headers: { 'Content-Type': 'application/json' }
  });
  return response.data;
}

// swing-auth/env.js - í™˜ê²½ë³„ ì„¤ì •
const config = {
  prod: {
    endpoint: 'https://apigw.shinhan.com:8443',
    clientId: process.env.SWING_CLIENT_ID_PROD,
    clientSecret: process.env.SWING_CLIENT_SECRET_PROD
  },
  dev: {
    endpoint: 'https://apigwdev.shinhan.com:8443',
    clientId: process.env.SWING_CLIENT_ID_DEV,
    clientSecret: process.env.SWING_CLIENT_SECRET_DEV
  },
  mock: {
    endpoint: 'http://127.0.0.1:8055/swing-mock-server',
    clientId: '5FACKST52XY6YDLM',
    clientSecret: 'YPZCWH4ZXLDGBVUX'
  }
};
```

### 5.4 í™˜ê²½ë³„ ë™ì‘ ëª¨ë“œ

| ëª¨ë“œ | ì„¤ì • ê°’ | ë™ì‘ | ì‚¬ìš© ì‹œì  |
|-----|--------|------|----------|
| **Mock** | `OPERATION_MODE=mock` | ê°€ìƒ ë°ì´í„° ë°˜í™˜ | ë¡œì»¬ ê°œë°œ/í…ŒìŠ¤íŠ¸ |
| **Dev** | `OPERATION_MODE=dev` | ê°œë°œ ì„œë²„ ì—°ë™ | ê°œë°œ í™˜ê²½ |
| **Prod** | `OPERATION_MODE=prod` | ìš´ì˜ ì„œë²„ ì—°ë™ | ì‹¤ì œ ìš´ì˜ í™˜ê²½ |

### 5.5 Mock ëª¨ë“œ ì‘ë‹µ ë°ì´í„°
```javascript
// Mock í™˜ê²½ì—ì„œ ë°˜í™˜ë˜ëŠ” ê°€ìƒ ì‚¬ìš©ì ì •ë³´
{
  "employeeNo": "12345678",
  "userName": "í…ŒìŠ¤íŠ¸ì‚¬ìš©ì",
  "deptName": "ICTë³¸ë¶€",
  "emailAddress": "test@shinhan.com"
}
```

---

## 6. ì¸ì¦ íë¦„ë„

### 6.1 ì „ì²´ ì¸ì¦ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â”‚(Browser)â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1. POST /api/auth/login
     â”‚    { employee_id, password }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  authController.login()         â”‚
â”‚  (server/controllers/           â”‚
â”‚   authController.js)            â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 2. doSwingAuthenticate()
     â”‚    { type: 'idpw', employeeNo, password }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Swing Auth Module              â”‚
â”‚  (swing-auth/index.js)          â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ getCurrentEnvironment()   â”‚ â”‚
â”‚  â”‚ â†’ 'mock' | 'dev' | 'prod' â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ swingIdPasswordAuth()     â”‚ â”‚
â”‚  â”‚  - SHA256 í•´ì‹±            â”‚ â”‚
â”‚  â”‚  - API í˜¸ì¶œ               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 3. API í˜¸ì¶œ
     â”‚    POST {endpoint}/cau/v1/idpw-authorize
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Swing Server                   â”‚
â”‚  (ë˜ëŠ” Mock ë°ì´í„°)              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 4. ì‚¬ìš©ì ì •ë³´ ë°˜í™˜
     â”‚    { employeeNo, userName, deptName, ... }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  authController.login()         â”‚
â”‚                                 â”‚
â”‚  5. DB ì¡°íšŒ/ìƒì„±                â”‚
â”‚     User.findOne()              â”‚
â”‚     ë˜ëŠ” User.create()          â”‚
â”‚                                 â”‚
â”‚  6. JWT í† í° ìƒì„±               â”‚
â”‚     generateToken({ id, ... })  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 7. ì‘ë‹µ
     â”‚    { success: true, token, user }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â”‚  - í† í° ì €ì¥ (localStorage)     â”‚
â”‚  - í€´ì¦ˆ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 SSO í† í° ì¸ì¦ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Swing   â”‚
â”‚ Portal  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ SSO í† í° ë°œê¸‰
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ POST /api/auth/swing/token
     â”‚ { sso_token }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  authController.swingSsoTokenLogin()  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ doSwingAuthenticate({ type: 'sso', ssoToken })
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Swing Auth Module              â”‚
â”‚  swingSsoAuth(ssoToken)         â”‚
â”‚  â†’ POST /cau/v1/oauth-code-simple â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DB ì¡°íšŒ/ìƒì„± â†’ JWT ë°œê¸‰        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â”‚ (ë¡œê·¸ì¸ ì™„ë£Œ)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â”‚ Request â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ GET /api/quiz/list
     â”‚ Header: Authorization: Bearer {token}
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  auth.js Middleware             â”‚
â”‚  (server/middleware/auth.js)    â”‚
â”‚                                 â”‚
â”‚  1. í† í° ì¶”ì¶œ                   â”‚
â”‚  2. jwt.verify(token, SECRET)   â”‚
â”‚  3. req.user = decoded          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ âœ… í† í° ìœ íš¨
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  quizController.getList()       â”‚
â”‚  (ì‹¤ì œ API ë¡œì§ ì‹¤í–‰)            â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client  â”‚
â”‚ Responseâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ í† í° ë¬´íš¨ ì‹œ:
â””â”€> 401 Unauthorized
    { error: 'ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤' }
```

---

## 7. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### 7.1 ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User        â”‚ 1        N â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  QuizSession    â”‚
â”‚ id (PK)         â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ employee_id     â”‚            â”‚ id (PK)         â”‚
â”‚ password        â”‚            â”‚ user_id (FK)    â”‚
â”‚ name            â”‚            â”‚ event_id (FK)   â”‚
â”‚ department      â”‚            â”‚ status          â”‚
â”‚ email           â”‚            â”‚ score           â”‚
â”‚ role            â”‚            â”‚ started_at      â”‚
â”‚ login_method    â”‚            â”‚ completed_at    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                               â”‚
        â”‚ 1                             â”‚ 1
        â”‚                               â”‚
        â”‚ N                             â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LuckyDraw     â”‚            â”‚  QuizAnswer     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚            â”‚ id (PK)         â”‚
â”‚ user_id (FK)    â”‚            â”‚ session_id (FK) â”‚
â”‚ event_id (FK)   â”‚            â”‚ question_id (FK)â”‚
â”‚ prize           â”‚            â”‚ user_answer     â”‚
â”‚ won             â”‚            â”‚ is_correct      â”‚
â”‚ claimed         â”‚            â”‚ time_taken      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ N
                                        â”‚
                                        â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   QuizEvent     â”‚ 1        N â”‚    Question     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚            â”‚ id (PK)         â”‚
â”‚ title           â”‚            â”‚ event_id (FK)   â”‚
â”‚ month           â”‚            â”‚ question_text   â”‚
â”‚ year            â”‚            â”‚ type            â”‚
â”‚ start_date      â”‚            â”‚ correct_answer  â”‚
â”‚ end_date        â”‚            â”‚ options         â”‚
â”‚ is_active       â”‚            â”‚ order_num       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SSOSettings    â”‚ (ë…ë¦½ í…Œì´ë¸”)
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚
â”‚ setting_key     â”‚
â”‚ setting_value   â”‚
â”‚ data_type       â”‚
â”‚ description     â”‚
â”‚ category        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ì£¼ìš” í…Œì´ë¸” ì„¤ëª…

#### User (ì‚¬ìš©ì)
```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  employee_id VARCHAR(20) UNIQUE NOT NULL,  -- í–‰ì›ë²ˆí˜¸
  password VARCHAR(255) NOT NULL,           -- í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸
  name VARCHAR(100) NOT NULL,               -- ì´ë¦„
  department VARCHAR(100),                  -- ë¶€ì„œ
  email VARCHAR(100),                       -- ì´ë©”ì¼
  role VARCHAR(20) DEFAULT 'user',          -- 'user' | 'admin'
  login_method VARCHAR(20) DEFAULT 'local', -- 'local' | 'swing_sso'
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### QuizEvent (í€´ì¦ˆ ì´ë²¤íŠ¸)
```sql
CREATE TABLE quiz_events (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title VARCHAR(200) NOT NULL,              -- ì´ë²¤íŠ¸ ì œëª©
  month INTEGER NOT NULL,                   -- ì›” (1-12)
  year INTEGER NOT NULL,                    -- ë…„ë„
  start_date DATETIME NOT NULL,             -- ì‹œì‘ì¼
  end_date DATETIME NOT NULL,               -- ì¢…ë£Œì¼
  is_active BOOLEAN DEFAULT 1,              -- í™œì„±í™” ì—¬ë¶€
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### Question (ë¬¸ì œ)
```sql
CREATE TABLE questions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  event_id INTEGER NOT NULL,                -- QuizEvent FK
  question_text TEXT NOT NULL,              -- ë¬¸ì œ í…ìŠ¤íŠ¸
  type VARCHAR(20) NOT NULL,                -- 'ox' | 'fillblank' | 'dragdrop' | 'typing' | 'finderror'
  correct_answer TEXT NOT NULL,             -- ì •ë‹µ
  options TEXT,                             -- ì„ íƒì§€ (JSON)
  order_num INTEGER NOT NULL,               -- ë¬¸ì œ ìˆœì„œ
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (event_id) REFERENCES quiz_events(id)
);
```

#### QuizSession (í€´ì¦ˆ ì„¸ì…˜)
```sql
CREATE TABLE quiz_sessions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,                 -- User FK
  event_id INTEGER NOT NULL,                -- QuizEvent FK
  status VARCHAR(20) DEFAULT 'in_progress', -- 'in_progress' | 'completed' | 'cancelled'
  score INTEGER DEFAULT 0,                  -- ì ìˆ˜
  total_questions INTEGER DEFAULT 0,        -- ì „ì²´ ë¬¸ì œ ìˆ˜
  correct_answers INTEGER DEFAULT 0,        -- ì •ë‹µ ìˆ˜
  started_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  completed_at DATETIME,
  prize_drawn BOOLEAN DEFAULT 0,            -- ê²½í’ˆ ì¶”ì²¨ ì—¬ë¶€
  prize_result TEXT,                        -- ì¶”ì²¨ ê²°ê³¼ (JSON)
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (event_id) REFERENCES quiz_events(id)
);
```

#### QuizAnswer (ë‹µë³€ ê¸°ë¡)
```sql
CREATE TABLE quiz_answers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  session_id INTEGER NOT NULL,              -- QuizSession FK
  question_id INTEGER NOT NULL,             -- Question FK
  user_answer TEXT NOT NULL,                -- ì‚¬ìš©ì ë‹µë³€
  is_correct BOOLEAN NOT NULL,              -- ì •ë‹µ ì—¬ë¶€
  time_taken INTEGER DEFAULT 0,             -- ì†Œìš” ì‹œê°„ (ì´ˆ)
  answered_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (session_id) REFERENCES quiz_sessions(id),
  FOREIGN KEY (question_id) REFERENCES questions(id)
);
```

#### LuckyDraw (ê²½í’ˆ ì¶”ì²¨)
```sql
CREATE TABLE lucky_draws (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,                 -- User FK
  event_id INTEGER NOT NULL,                -- QuizEvent FK
  session_id INTEGER NOT NULL,              -- QuizSession FK
  prize VARCHAR(100) NOT NULL,              -- ê²½í’ˆëª…
  won BOOLEAN DEFAULT 0,                    -- ë‹¹ì²¨ ì—¬ë¶€
  claimed BOOLEAN DEFAULT 0,                -- ìˆ˜ë ¹ ì—¬ë¶€
  drawn_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  claimed_at DATETIME,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (event_id) REFERENCES quiz_events(id),
  FOREIGN KEY (session_id) REFERENCES quiz_sessions(id)
);
```

---

## 8. API ì—”ë“œí¬ì¸íŠ¸

### 8.1 ì¸ì¦ API (`/api/auth`)

#### ë¡œê·¸ì¸
```http
POST /api/auth/login
Content-Type: application/json

{
  "employee_id": "12345678",
  "password": "mypassword"
}

Response:
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "employee_id": "12345678",
    "name": "í™ê¸¸ë™",
    "department": "ICTë³¸ë¶€",
    "email": "hong@shinhan.com",
    "role": "user"
  }
}
```

#### Swing SSO í† í° ë¡œê·¸ì¸
```http
POST /api/auth/swing/token
Content-Type: application/json

{
  "sso_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}

Response: (ë™ì¼)
```

#### Swing ID/Password ë¡œê·¸ì¸
```http
POST /api/auth/swing/idpw
Content-Type: application/json

{
  "employee_id": "12345678",
  "password": "mypassword"
}

Response: (ë™ì¼)
```

#### ë¡œê·¸ì•„ì›ƒ
```http
POST /api/auth/logout
Authorization: Bearer {token}

Response:
{
  "success": true,
  "message": "ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

#### í˜„ì¬ ì‚¬ìš©ì ì¡°íšŒ
```http
GET /api/auth/me
Authorization: Bearer {token}

Response:
{
  "id": 1,
  "employee_id": "12345678",
  "name": "í™ê¸¸ë™",
  "department": "ICTë³¸ë¶€",
  "email": "hong@shinhan.com",
  "role": "user"
}
```

### 8.2 í€´ì¦ˆ API (`/api/quiz`)

#### í€´ì¦ˆ ëª©ë¡ ì¡°íšŒ
```http
GET /api/quiz/list
Authorization: Bearer {token}

Response:
{
  "events": [
    {
      "id": 1,
      "title": "2025ë…„ 1ì›” ICT ê·œì • í€´ì¦ˆ",
      "month": 1,
      "year": 2025,
      "status": "not_started" | "in_progress" | "completed",
      "total_questions": 5,
      "user_progress": {
        "session_id": 123,
        "correct_answers": 3,
        "completed": false
      }
    }
  ]
}
```

#### í€´ì¦ˆ ì„¸ì…˜ ì‹œì‘
```http
POST /api/quiz/start
Authorization: Bearer {token}
Content-Type: application/json

{
  "event_id": 1
}

Response:
{
  "session": {
    "id": 123,
    "event_id": 1,
    "status": "in_progress"
  },
  "questions": [
    {
      "id": 1,
      "question_text": "ë¬¸ì œ í…ìŠ¤íŠ¸",
      "type": "ox",
      "options": null,
      "order_num": 1
    }
  ]
}
```

#### ë‹µë³€ ì œì¶œ
```http
POST /api/quiz/answer
Authorization: Bearer {token}
Content-Type: application/json

{
  "session_id": 123,
  "question_id": 1,
  "user_answer": "O",
  "time_taken": 15
}

Response:
{
  "success": true,
  "is_correct": true,
  "correct_answer": "O",
  "next_question": {
    "id": 2,
    "question_text": "...",
    "type": "fillblank",
    "options": ["ì˜µì…˜1", "ì˜µì…˜2"]
  }
}
```

#### ì„¸ì…˜ ì™„ë£Œ
```http
POST /api/quiz/complete
Authorization: Bearer {token}
Content-Type: application/json

{
  "session_id": 123
}

Response:
{
  "success": true,
  "session": {
    "id": 123,
    "status": "completed",
    "score": 80,
    "correct_answers": 4,
    "total_questions": 5
  },
  "lucky_draw": {
    "won": true,
    "prize": "ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜"
  }
}
```

### 8.3 ê´€ë¦¬ì API (`/api/admin`)

#### ì´ë²¤íŠ¸ ëª©ë¡ ì¡°íšŒ
```http
GET /api/admin/events
Authorization: Bearer {token}

Response:
{
  "events": [...]
}
```

#### ì´ë²¤íŠ¸ ìƒì„±
```http
POST /api/admin/events
Authorization: Bearer {token}
Content-Type: application/json

{
  "title": "2025ë…„ 2ì›” ICT ê·œì • í€´ì¦ˆ",
  "month": 2,
  "year": 2025,
  "start_date": "2025-02-01",
  "end_date": "2025-02-28"
}
```

#### ë¬¸ì œ ëŒ€ëŸ‰ ì—…ë¡œë“œ
```http
POST /api/admin/questions/bulk-upload
Authorization: Bearer {token}
Content-Type: application/json

{
  "event_id": 1,
  "questions": [
    {
      "question_text": "ë¬¸ì œ1",
      "type": "ox",
      "correct_answer": "O",
      "options": null,
      "order_num": 1
    }
  ]
}
```

#### í†µê³„ ì¡°íšŒ
```http
GET /api/admin/stats/overview
Authorization: Bearer {token}

Response:
{
  "total_users": 150,
  "total_sessions": 450,
  "total_questions": 30,
  "avg_score": 82.5
}
```

#### Lucky Draw ì¶”ì²¨
```http
POST /api/admin/luckydraw/draw
Authorization: Bearer {token}
Content-Type: application/json

{
  "event_id": 1,
  "prize": "ìŠ¤íƒ€ë²…ìŠ¤ ê¸°í”„í‹°ì½˜",
  "winner_count": 10
}

Response:
{
  "success": true,
  "winners": [
    {
      "user_id": 5,
      "name": "í™ê¸¸ë™",
      "employee_id": "12345678"
    }
  ]
}
```

---

## 9. í€´ì¦ˆ ì§„í–‰ íë¦„

### 9.1 ì‚¬ìš©ì í€´ì¦ˆ ì§„í–‰ ì‹œí€€ìŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ë¡œê·¸ì¸â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. í€´ì¦ˆ ëª©ë¡ ì¡°íšŒ â”‚
â”‚    GET /api/quiz/list â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ â”‚ ì›”ë³„ í€´ì¦ˆ ì¹´ë“œ í‘œì‹œ:       â”‚
     â”‚ â”‚ - 1ì›”: START (ì‹œì‘ ê°€ëŠ¥)   â”‚
     â”‚ â”‚ - 2ì›”: CONTINUE (ì§„í–‰ ì¤‘)  â”‚
     â”‚ â”‚ - 3ì›”: COMPLETE (ì™„ë£Œ)     â”‚
     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. í€´ì¦ˆ ì‹œì‘      â”‚
â”‚    POST /api/quiz/start â”‚
â”‚    { event_id: 1 }      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ âœ… QuizSession ìƒì„±
     â”‚ âœ… ë¬¸ì œ ëª©ë¡ ë°˜í™˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ë¬¸ì œ í’€ì´ ë£¨í”„         â”‚
â”‚                          â”‚
â”‚ For each question:       â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 4-1. ë¬¸ì œ í‘œì‹œ        â”‚ â”‚
â”‚ â”‚  - OX: O/X ë²„íŠ¼      â”‚ â”‚
â”‚ â”‚  - ê°ê´€ì‹: ì„ íƒì§€    â”‚ â”‚
â”‚ â”‚  - íƒ€ì´í•‘: ì…ë ¥ì°½    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚               â”‚
â”‚          â–¼               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 4-2. ë‹µë³€ ì œì¶œ        â”‚ â”‚
â”‚ â”‚ POST /api/quiz/answerâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚               â”‚
â”‚          â–¼               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 4-3. í”¼ë“œë°± í‘œì‹œ      â”‚ â”‚
â”‚ â”‚  - ì •ë‹µ: ì´ˆë¡ ë§í’ì„  â”‚ â”‚
â”‚ â”‚  - ì˜¤ë‹µ: ë¹¨ê°„ ë§í’ì„  â”‚ â”‚
â”‚ â”‚  - ìºë¦­í„° ë°˜ì‘       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚               â”‚
â”‚          â–¼               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 4-4. ë‹¤ìŒ ë¬¸ì œ       â”‚ â”‚
â”‚ â”‚  ë˜ëŠ” ì™„ë£Œ           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. í€´ì¦ˆ ì™„ë£Œ      â”‚
â”‚    POST /api/quiz/complete â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ âœ… ì ìˆ˜ ê³„ì‚°
     â”‚ âœ… Lucky Draw ì¶”ì²¨
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ê²°ê³¼ í‘œì‹œ      â”‚
â”‚  - ì ìˆ˜          â”‚
â”‚  - ì •ë‹µë¥         â”‚
â”‚  - Lucky Draw ê²°ê³¼â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 ë¬¸ì œ ìœ í˜•ë³„ ì²˜ë¦¬

#### OX ë¬¸ì œ
```javascript
// í™”ë©´ í‘œì‹œ
<div class="ox-container">
  <button class="ox-button" data-value="O">O</button>
  <div class="ox-vs">VS</div>
  <button class="ox-button" data-value="X">X</button>
</div>

// ë‹µë³€ ì œì¶œ
POST /api/quiz/answer
{
  "session_id": 123,
  "question_id": 1,
  "user_answer": "O"
}
```

#### Fill in Blank (ë¹ˆì¹¸ ì±„ìš°ê¸°)
```javascript
// í™”ë©´ í‘œì‹œ
<div class="fillblank-container">
  <div class="fillblank-option">ì˜µì…˜1</div>
  <div class="fillblank-option">ì˜µì…˜2</div>
  <div class="fillblank-option">ì˜µì…˜3</div>
</div>

// ë‹µë³€ ì œì¶œ
POST /api/quiz/answer
{
  "session_id": 123,
  "question_id": 2,
  "user_answer": "ì˜µì…˜2"
}
```

#### Typing (íƒ€ì´í•‘)
```javascript
// í™”ë©´ í‘œì‹œ
<div class="typing-container">
  <div class="typing-target">ì •ë‹µ í…ìŠ¤íŠ¸</div>
  <div class="monitor">
    <div class="screen">
      <textarea class="typing-textarea"></textarea>
    </div>
  </div>
</div>

// ì‹¤ì‹œê°„ ë¹„êµ
const userInput = textarea.value;
const targetText = "ì •ë‹µ í…ìŠ¤íŠ¸";
const progress = calculateProgress(userInput, targetText);

// ë‹µë³€ ì œì¶œ (100% ì¼ì¹˜ ì‹œ)
POST /api/quiz/answer
{
  "session_id": 123,
  "question_id": 3,
  "user_answer": "ì •ë‹µ í…ìŠ¤íŠ¸"
}
```

#### Drag & Drop
```javascript
// í™”ë©´ í‘œì‹œ
<div class="dragdrop-container">
  <div class="dragdrop-target">ì—¬ê¸°ì— ë“œë¡­</div>
  <div class="dragdrop-items">
    <div class="dragdrop-item" draggable="true">í•­ëª©1</div>
    <div class="dragdrop-item" draggable="true">í•­ëª©2</div>
  </div>
</div>

// ë‹µë³€ ì œì¶œ
POST /api/quiz/answer
{
  "session_id": 123,
  "question_id": 4,
  "user_answer": "í•­ëª©1"
}
```

---

## 10. í™˜ê²½ ì„¤ì •

### 10.1 í™˜ê²½ ë³€ìˆ˜ (.env)

```bash
# ==============================================
# Server Configuration
# ==============================================
PORT=5000
NODE_ENV=development

# ==============================================
# Swing ì¸ì¦ ëª¨ë“œ ì„¤ì • (ê¸°ë³¸ê°’: mock)
# ==============================================
# Mock ëª¨ë“œ: ê°€ìƒ ë°ì´í„° ì‚¬ìš© (ê¸°ë³¸ê°’, ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©)
# Dev ëª¨ë“œ: ì‹¤ì œ Swing ê°œë°œ ì„œë²„ ì—°ê²°
# Prod ëª¨ë“œ: ì‹¤ì œ Swing ìš´ì˜ ì„œë²„ ì—°ê²°
OPERATION_MODE=mock

# ==============================================
# Database Configuration (SQLite)
# ==============================================
# SQLiteëŠ” íŒŒì¼ ê¸°ë°˜ì´ë¯€ë¡œ í˜¸ìŠ¤íŠ¸/í¬íŠ¸ ì„¤ì • ë¶ˆí•„ìš”
# ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ìœ„ì¹˜: database/quiz.db

# ==============================================
# JWT & Session Secret
# ==============================================
JWT_SECRET=your_jwt_secret_key_here_change_in_production
JWT_EXPIRES_IN=7d
SESSION_SECRET=your_session_secret_key_here_change_in_production

# ==============================================
# CORS
# ==============================================
CORS_ORIGIN=http://localhost:3000

# ==============================================
# Swing ìš´ì˜ í™˜ê²½ ì„¤ì •
# ==============================================
SWING_ENDPOINT_PROD=https://apigw.shinhan.com:8443
SWING_CLIENT_ID_PROD=
SWING_CLIENT_SECRET_PROD=

# ==============================================
# Swing ê°œë°œ í™˜ê²½ ì„¤ì •
# ==============================================
SWING_ENDPOINT_DEV=https://apigwdev.shinhan.com:8443
SWING_CLIENT_ID_DEV=YOUR_DEV_CLIENT_ID_HERE
SWING_CLIENT_SECRET_DEV=YOUR_DEV_CLIENT_SECRET_HERE

# ==============================================
# Swing Mock í™˜ê²½ ì„¤ì • (ê¸°ë³¸ê°’)
# ==============================================
SWING_ENDPOINT_MOCK=http://127.0.0.1:8055/swing-mock-server
SWING_CLIENT_ID_MOCK=5FACKST52XY6YDLM
SWING_CLIENT_SECRET_MOCK=YPZCWH4ZXLDGBVUX
```

### 10.2 ê°œë°œ í™˜ê²½ ì„¤ì •

#### ë¡œì»¬ ê°œë°œ
```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì—ì„œ OPERATION_MODE=mock í™•ì¸

# 3. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
npm run db:migrate
npm run db:seed

# 4. ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

#### Mock ì„œë²„ ì‹¤í–‰ (ì„ íƒ ì‚¬í•­)
```bash
# Swing Mock Server (í¬íŠ¸ 8055)
node swing-auth/mock-server.js
```

### 10.3 ìš´ì˜ í™˜ê²½ ì„¤ì •

```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
OPERATION_MODE=prod
SWING_CLIENT_ID_PROD=ì‹¤ì œ_í´ë¼ì´ì–¸íŠ¸_ID
SWING_CLIENT_SECRET_PROD=ì‹¤ì œ_í´ë¼ì´ì–¸íŠ¸_SECRET
JWT_SECRET=ê°•ë ¥í•œ_ì‹œí¬ë¦¿_í‚¤

# 2. í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# 3. ì„œë²„ ì‹œì‘
npm start
```

---

## 11. ë°°í¬ ê°€ì´ë“œ

### 11.1 Docker ë°°í¬

#### Dockerfile
```dockerfile
FROM node:18-alpine

WORKDIR /app

# ì˜ì¡´ì„± ì„¤ì¹˜
COPY package*.json ./
RUN npm ci --only=production

# ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY . .

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
RUN npm run db:migrate
RUN npm run db:seed

EXPOSE 5000

CMD ["npm", "start"]
```

#### docker-compose.yml
```yaml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "5000:5000"
    environment:
      - NODE_ENV=production
      - OPERATION_MODE=prod
      - JWT_SECRET=${JWT_SECRET}
      - SWING_CLIENT_ID_PROD=${SWING_CLIENT_ID_PROD}
      - SWING_CLIENT_SECRET_PROD=${SWING_CLIENT_SECRET_PROD}
    volumes:
      - ./database:/app/database
    restart: unless-stopped
```

#### ì‹¤í–‰
```bash
# ë¹Œë“œ
docker-compose build

# ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### 11.2 ìˆ˜ë™ ë°°í¬

```bash
# 1. ì„œë²„ì— ì†ŒìŠ¤ ì—…ë¡œë“œ
scp -r ./IctRulesQuiz user@server:/path/to/app

# 2. ì„œë²„ ì ‘ì†
ssh user@server

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
cd /path/to/app
npm ci --only=production

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vi .env
# ìš´ì˜ í™˜ê²½ ì„¤ì • ì…ë ¥

# 5. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
npm run db:migrate
npm run db:seed

# 6. PM2ë¡œ ì‹¤í–‰
npm install -g pm2
pm2 start server/server.js --name ict-quiz
pm2 save
pm2 startup
```

---

## 12. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 12.1 ì¸ì¦ ê´€ë ¨

#### ë¬¸ì œ: "ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"
```
ì›ì¸:
- JWT í† í°ì´ ë§Œë£Œë¨
- í† í°ì´ ì†ìƒë¨
- ì„œë²„ì˜ JWT_SECRET ë³€ê²½ë¨

í•´ê²°:
1. ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ í† í° ì‚­ì œ
   localStorage.removeItem('token');
   localStorage.removeItem('user');

2. ë‹¤ì‹œ ë¡œê·¸ì¸
```

#### ë¬¸ì œ: Swing ì¸ì¦ ì‹¤íŒ¨
```
ì›ì¸:
- OPERATION_MODE ì„¤ì • ì˜¤ë¥˜
- Swing ì„œë²„ ì—°ê²° ë¶ˆê°€
- í´ë¼ì´ì–¸íŠ¸ ID/Secret ì˜¤ë¥˜

í•´ê²°:
1. .env íŒŒì¼ í™•ì¸
   OPERATION_MODE=mock (ë˜ëŠ” dev/prod)

2. í™˜ê²½ë³„ ì„¤ì • í™•ì¸
   console.log(getCurrentEnvironment());

3. Mock ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸
   OPERATION_MODE=mock
```

### 12.2 ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨

#### ë¬¸ì œ: "Cannot find module 'sequelize'"
```
í•´ê²°:
npm install
```

#### ë¬¸ì œ: ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ ì—†ìŒ
```
í•´ê²°:
npm run db:migrate
npm run db:seed
```

#### ë¬¸ì œ: SQLite íŒŒì¼ ê¶Œí•œ ì˜¤ë¥˜
```
í•´ê²°:
chmod 666 database/quiz.db
chmod 777 database/
```

### 12.3 í”„ë¡ íŠ¸ì—”ë“œ ê´€ë ¨

#### ë¬¸ì œ: CORS ì—ëŸ¬
```
ì›ì¸:
- ì„œë²„ì˜ CORS ì„¤ì • ë¶ˆì¼ì¹˜

í•´ê²°:
.env íŒŒì¼ì—ì„œ CORS_ORIGIN í™•ì¸
CORS_ORIGIN=http://localhost:5000
```

#### ë¬¸ì œ: ì •ì  íŒŒì¼ 404 ì—ëŸ¬
```
ì›ì¸:
- Express static ê²½ë¡œ ì„¤ì • ì˜¤ë¥˜

í•´ê²°:
server/server.js í™•ì¸:
app.use(express.static('client'));
```

### 12.4 í€´ì¦ˆ ì§„í–‰ ê´€ë ¨

#### ë¬¸ì œ: ë‹µë³€ ì œì¶œ í›„ ë‹¤ìŒ ë¬¸ì œë¡œ ë„˜ì–´ê°€ì§€ ì•ŠìŒ
```
ì›ì¸:
- í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ ì—ëŸ¬
- ì„¸ì…˜ ë§Œë£Œ

í•´ê²°:
1. ë¸Œë¼ìš°ì € ì½˜ì†” ì—ëŸ¬ í™•ì¸
2. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸
3. ì„¸ì…˜ ID ìœ íš¨ì„± í™•ì¸
```

#### ë¬¸ì œ: Lucky Draw ê²°ê³¼ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ
```
ì›ì¸:
- í€´ì¦ˆ ì™„ë£Œ API ì‘ë‹µ ì²˜ë¦¬ ì˜¤ë¥˜

í•´ê²°:
quiz.jsì—ì„œ completeSession() í•¨ìˆ˜ í™•ì¸
console.log(response.lucky_draw);
```

---

## 13. ì°¸ê³  ë¬¸ì„œ

- **README.md**: í”„ë¡œì íŠ¸ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ
- **SPECIFICATION.md**: ê¸°ëŠ¥ ëª…ì„¸ì„œ
- **docs/ADMIN_GUIDE.md**: ê´€ë¦¬ì ì‚¬ìš© ê°€ì´ë“œ
- **swing-auth/README.md**: Swing ì¸ì¦ ëª¨ë“ˆ ìƒì„¸ ê°€ì´ë“œ

---

## 14. ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 2025-01-19 | 1.0.0 | ìµœì´ˆ ì‘ì„± | Claude |

---

**ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë²„ê·¸ ë¦¬í¬íŠ¸ëŠ” GitHub Issuesë¥¼ í™œìš©í•´ì£¼ì„¸ìš”.**
